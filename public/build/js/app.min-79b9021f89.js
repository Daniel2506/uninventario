app||(app={}),function(e,t,r,n){app.getUsersMain=Backbone.View.extend({el:"#users-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$usersSearchTable=this.$("#users-search-table"),this.$searchName=this.$("#name"),this.$searchMail=this.$("#mail"),this.usersSearchTable=this.$usersSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("users.index")),data:function(t){t.persistent=!0,t.user_nombre=e.$searchName.val(),t.user_email=e.$searchMail.val()}},columns:[{data:"id",name:"id"},{data:"name",name:"name"},{data:"email",name:"email"},{data:"username",name:"username"}],columnDefs:[{targets:0,width:"15%",render:function(e,r,n,i){return'<a href="'+t.Misc.urlFull(Route.route("users.show",{users:n.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),function(e,t,r,n){var i=function(e){};i.prototype={initialize:function(){},formToJson:function(t){var r={},i=[];return i=e.prototype.isPrototypeOf(t)?t.serializeArray():e(t).serializeArray(),e.each(i,function(){r[this.name]!==n?(r[this.name].push||(r[this.name]=[r[this.name]]),r[this.name].push(this.value||"")):r[this.name]=this.value||""}),r},isUrl:function(e){var t=/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+(\/(.)*)?(\?(.)*)?/i;return t.test(e)},urlFull:function(e){if(!this.isUrl(r.url))return e;e||(e="");var t=/^\//;return t.test(e)||(e="/"+e),r.url+e},parseErrors:function(t){var r="";if(_.isObject(t)){var n="<ul>";e.each(t,function(e,t){n+="<li>"+t[0]+"</li>"}),n+="</ul>",r=n}return r},clearForm:function(t){t.find(":input").each(function(){if(field_type=e(this),""!=field_type.attr("data-currency")&&""!=field_type.attr("data-currency-negative")&&""!=field_type.attr("data-currency-price")||field_type.val(0),field_type.attr("checked")?field_type.iCheck("check"):field_type.iCheck("uncheck"),field_type.hasClass("select2-default-clear")||field_type.hasClass("select2-default")){var t=field_type.attr("id");field_type.val("").trigger("change"),e("#select2-"+t+"-container").removeAttr("title")}else field_type.hasClass("choice-select-autocomplete")&&(field_type.empty(),id=field_type.attr("id"),e("#select2-"+id+"-container").removeAttr("title"))}),t.trigger("reset")},setSpinner:function(t){t&&e(t).prepend('<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>')},removeSpinner:function(t){var r=e(t).find(".overlay");r.length&&r.remove()},dataTableES:function(){return{sProcessing:'<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>',sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}}},redirect:function(e){e!==n&&""!=e?t.location=e:t.location.reload()},successRedirect:function(e,r){alertify.success(e),setTimeout(function(){t.Misc.redirect(r)},500)},currency:function(e){return accounting.formatMoney(e,"",2,".",",")}},t.Misc=new i,t.Misc.initialize()}(jQuery,this,this.document),function(){var e=function(){var e={absolute:!1,rootUrl:"http://localhost",routes:[{host:null,methods:["GET","HEAD"],uri:"auth/login",name:null,action:"AppHttpControllersAuthAuthController@getLogin"},{host:null,methods:["POST"],uri:"auth/login",name:"auth/login",action:"AppHttpControllersAuthAuthController@postLogin"},{host:null,methods:["GET","HEAD"],uri:"auth/logout",name:"auth/logout",action:"AppHttpControllersAuthAuthController@getLogout"},{host:null,methods:["GET","HEAD"],uri:"integrate",name:"auth/integrate",action:"AppHttpControllersAuthAuthController@integrate"},{host:null,methods:["GET","HEAD"],uri:"auth/register",name:null,action:"AppHttpControllersAuthAuthController@getRegister"},{host:null,methods:["POST"],uri:"auth/register",name:"auth/register",action:"AppHttpControllersAuthAuthController@postRegister"},{host:null,methods:["GET","HEAD"],uri:"/",name:"dashboard",action:"AppHttpControllersHomeController@index"},{host:null,methods:["GET","HEAD"],uri:"users",name:"users.index",action:"AppHttpControllersAdminUserController@index"},{host:null,methods:["GET","HEAD"],uri:"users/create",name:"users.create",action:"AppHttpControllersAdminUserController@create"},{host:null,methods:["POST"],uri:"users",name:"users.store",action:"AppHttpControllersAdminUserController@store"},{host:null,methods:["GET","HEAD"],uri:"users/{users}",name:"users.show",action:"AppHttpControllersAdminUserController@show"},{host:null,methods:["GET","HEAD"],uri:"users/{users}/edit",name:"users.edit",action:"AppHttpControllersAdminUserController@edit"},{host:null,methods:["PUT"],uri:"users/{users}",name:"users.update",action:"AppHttpControllersAdminUserController@update"},{host:null,methods:["PATCH"],uri:"users/{users}",name:null,action:"AppHttpControllersAdminUserController@update"}],prefix:"",route:function(e,t,r){if(r=r||this.getByName(e))return this.toRoute(r,t)},url:function(e,t){t=t||[];var r=e+"/"+t.join("/");return this.getCorrectUrl(r)},toRoute:function(e,t){var r=this.replaceNamedParameters(e.uri,t),n=this.getRouteQueryString(t);return this.absolute&&this.isOtherHost(e)?"//"+e.host+"/"+r+n:this.getCorrectUrl(r+n)},isOtherHost:function(e){return e.host&&e.host!=window.location.hostname},replaceNamedParameters:function(e,t){return e=e.replace(/\{(.*?)\??\}/g,function(e,r){if(t.hasOwnProperty(r)){var n=t[r];return delete t[r],n}return e}),e=e.replace(/\/\{.*?\?\}/g,"")},getRouteQueryString:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+"="+e[r]);return t.length<1?"":"?"+t.join("&")},getByName:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].name===e)return this.routes[t]},getByAction:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].action===e)return this.routes[t]},getCorrectUrl:function(e){var t=this.prefix+"/"+e.replace(/^\/?/,"");return this.absolute?this.rootUrl.replace("//?$/","")+t:t}},t=function(e){if(!e)return"";var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+'="'+e[r]+'"');return t.join(" ")},r=function(e,r,n){return r=r||e,n=t(n),'<a href="'+e+'" '+n+">"+r+"</a>"};return{action:function(t,r){return r=r||{},e.route(t,r,e.getByAction(t))},route:function(t,r){return r=r||{},e.route(t,r)},url:function(t,r){return r=r||{},e.url(t,r)},link_to:function(e,t,n){return e=this.url(e),r(e,t,n)},link_to_route:function(e,t,n,i){var a=this.route(e,n);return r(a,t,i)},link_to_action:function(e,t,n,i){var a=this.action(e,n);return r(a,t,i)}}}.call(this);"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:window.Route=e}.call(this),app||(app={}),function(e,t,r,n){app.AppRouter=new(Backbone.Router.extend({routes:{"users(/)":"getUsersMain"},parseQueryString:function(e){var t={};return e&&_.each(_.map(decodeURI(e).split(/&/g),function(e,t){var r=e.split("="),i={};if(r.length>=1){var a=n;2==r.length&&(a=r[1]),i[r[0]]=a}return i}),function(e){_.extend(t,e)}),t},initialize:function(e){},start:function(){var e={pushState:!0};"-1"!=r.domain.search(/localhost/gi)&&(e.root="/uninventario/public/"),Backbone.history.start(e)},getUsersMain:function(){this.mainUsersView instanceof Backbone.View&&(this.mainUsersView.stopListening(),this.mainUsersView.undelegateEvents()),this.mainUsersView=new app.getUsersMain}}))}(jQuery,this,this.document);var app=app||{};!function(e,t,r,n){var i=function(){e.ajaxSetup({cache:!1,headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}})};String.prototype.replaceAll=function(e,t){return t?this.replace(new RegExp("["+e+"]","g"),t):this},i.prototype={initialize:function(){this.initApp(),this.initICheck(),this.initAlertify(),this.initInputMask(),this.initSelect2(),this.initToUpper(),this.initSpinner(),this.initDatePicker(),this.initTimePicker()},initApp:function(){t.app.AppRouter.start()},initICheck:function(){e("input").iCheck({checkboxClass:"icheckbox_minimal-green",radioClass:"iradio_minimal-green"})},initAlertify:function(){alertify.logPosition("bottom right")},initInputMask:function(){e("[data-mask]").inputmask(),e("[data-currency]").inputmask({radixPoint:",",alias:"currency",removeMaskOnSubmit:!0,unmaskAsNumber:!0,min:0}),e("[data-currency-negative]").inputmask({radixPoint:",",alias:"currency",prefix:"",removeMaskOnSubmit:!0,unmaskAsNumber:!0})},initSelect2:function(){var t={".select2-default":{language:"es",placeholder:"Seleccione",allowClear:!1},".select2-default-clear":{language:"es",placeholder:"Seleccione",allowClear:!0},".choice-select-autocomplete":{language:"es",placeholder:"Seleccione una opción",ajax:{delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e,pagination:{more:30*t.page<e.total_count}}},escapeMarkup:function(e){return e},cache:!0,minimumInputLength:1}}};for(var r in t)e(r).each(function(i,a){var o=e(a);if(o.data("select2")==n&&(o.select2(t[r]),".choice-select-autocomplete"==r)){var s=o.data("initial-value"),u=null;if(s){var l=o.data("select2").dataAdapter.ajaxOptions;u=e("<option selected>Cargando...</option>").val(s),o.append(u).trigger("change"),e.get(l.url,{id:s},function(e){u.text(e[0].text).val(e[0].id),u.removeData(),o.trigger("change")})}}})},initToUpper:function(){e(".input-toupper").change(function(){e(this).val(e(this).val().toUpperCase())}),e(".input-lower").change(function(){for(var t=e(this).val(e(this).val().toLowerCase()),r=/[^a-z0-9]/i,n="",i=0;i<=t.val().length-1;i++)r.test(t.val().charAt(i))||(t.val().replace(r,""),n+=t.val().charAt(i));e(this).val(n)})},initSpinner:function(){e(".spinner-percentage").spinner({step:.1,start:0,min:0,max:100,numberFormat:"n",stop:function(t,r){_.isNull(this.value)||_.isUndefined(this.value)||_.isEmpty(this.value)||(!e.isNumeric(this.value)||this.value>100||this.value<0)&&e(this).spinner("value",0)}})},initValidator:function(){e('form[data-toggle="validator"]').each(function(){var t=e(this);e.fn.validator.call(t,t.data())})},initDatePicker:function(){e(".datepicker").datepicker({autoclose:!0,language:"es",format:"yyyy-mm-dd"})},initTimePicker:function(){e(".timepicker").timepicker({showInputs:!1,showMeridian:!1})}},e(function(){t.initComponent=new i,t.initComponent.initialize()})}(jQuery,this,this.document);